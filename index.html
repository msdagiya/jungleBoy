<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Jungle Boy Game</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/3.18.1/phaser.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Slabo+27px&display=swap" rel="stylesheet"> 
    <style type="text/css">
        body {
            margin: 0;
	        font-family: 'Slabo 27px', serif;
            background: rgba(255,255,255,0.5);
            background-position:center;
            background-repeat:no-repeat;
            background-size:cover;
            background-color:rgb(0,0,0,0.05);
        }
        #header{
            width: 100%;
            position:fixed;
            top:0;
            left:0;
            background:rgba(255,255,255,1);
            z-index:255;
        }
        #logo{
            padding:2px;
            box-sizing:border-box;
            display:inline-block;
        }
        #company_name{
            font-size:20px;
            font-family: 'Slabo 27px', serif;
            display:inline-block;
            padding:10px;
            box-sizing:border-box;
            vertical-align:top;
            color:#594F4F;
        }
        canvas {   
            display : block;  
            margin:50px 0px;
        }
        #game-container{
            width:360px;
            margin:auto;
        }
        .card {
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            transition: 0.3s;
            width: 1000px;
            display:block;
            float:left;
            background:white;
            padding-top:25px;
            padding-bottom:25px;
            padding-left:50px;
            padding-right:50px;
            margin:10px 125px;
            
        }
        .footer {
            left: 0;
            bottom: 0;
            width: 100%;
            background-color: rgb(200,200,200);
            color: black;
            text-align: center;
            padding: 50px 0px;
            float:left;
        }
        ul{
             list-style-type: none;
        }
        .advertisement{
            width:40%;
            float:left;
        }
        .game{
            width:60%;
            float:left;
        }
        .game-link{
            float:left;
            clear:both;
        }
    </style>
</head>

<body style="margin:auto auto;">
    <div class="card">
        <div class="game">
            <div style="width:100%;float:left;padding:10px 40px; box-sizing:border-box;display:block;"> 
                <h2 style="text-align:center"  >Introducing</h2>
                <img style="text-align:center;width:100px;margin: 0px calc(50% - 50px);" src="assets/Jumping_boy_sprites_v102/Transparent PNG/Idle/frame-1.png" style="width:100px;">
                <img style="text-align:center;width:200px;margin: 0px calc(50% - 100px);" src="assets/coollogo_com-3156672.png" style="width:100px;">
                <div id="game-container">
                    <script type="text/javascript">
                        var boy;
                        var background;
                        var cursors;
                        var fire;
                        var objects;
                        var score = 0;
                        var scoreText;
                        var pads;
                        var moving_pads;
                        var bonus;
                        var path = new Array(200);
                        var forest;
                        var coin;
                        var jump;
                        var birds;
                        var loadingText;
                        var key_left;
                        var key_right;
                        var current_pad;
                        var particles;
                        var mini_tarzen;
                        var volume = 0;
                        var time=0;
                        var time_text;
                        var clock;
                        var time_sprite;
                        var game_over;
                        var scores = [0,0,0,0];
                        class Menu extends Phaser.Scene{
                            createStartButton(x,y){
                                var Button = this.add.image(x, y, 'Button').setScale(0.1);
                                var self = this;
                            Button
                                .setInteractive({useHandCursor: true})
                                .on('pointerover', () => {Button.setTexture('Button_hover').setScale(0.1);})
                                .on('pointerout', () => {Button.setTexture('Button').setScale(0.1)})
                                .on('pointerdown', () => { Button.setTexture('Button_down').setScale(0.1)})
                                .on('pointerup', () => {
                                    this.scene.bringToTop('Level1');
                                    this.scene.start('Level1');
                                });
                                this.tweens
                                .add({
                                    targets: Button,
                                    scale:0.1125,
                                    duration: 500,
                                    ease: 'Power2',
                                    repeat: -1,
                                    yoyo:true
                                }, this);
                            }   
                        };


                        class Start extends Menu{
                            constructor(){
                                super({ key:'Start', active:true});
                            }

                            preload(){
                                this.DisplayLoadingMessege();
                                this.LoadPath();
                                this.LoadFont();
                                this.LoadImages();
                                this.LoadAudio();
                            }

                            LoadPath(){
                                this.load.path = 'assets/';
                            }

                            LoadFont(){
                                this.load.bitmapFont('myfont', 'font/font.png', 'font/font.fnt');
                            }

                            LoadAudio(){
                                // Coin Audio Asset
                                this.load.audio('Coin', '341695__projectsu012__coins-1.wav');

                                // Jump Audio Asset
                                this.load.audio('Jump', '350901__cabled-mess__jump-c-06.wav');

                                // GameOver Asset
                                this.load.audio('GameOver', '382310__myfox14__game-over-arcade.wav');

                            }
                         
                            LoadImages(){
                                // Title assets
                                this.load.image('Logo', 'coollogo_com-3156672.png');

                                
                                // Point assets
                                this.load.image('Point', 'cooltext333863632753835.png');

                                //Button assets
                                this.load.image('Button', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/normal/play.png');
                                this.load.image('Button_hover', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/hover/play.png');
                                this.load.image('Button_down', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/click/play.png');

                                //Time
                                this.load.image('Time', 'craftpix-103151-island-game-gui/Island-game-gui/png/images/clock.png');

                                // Volume button Assets
                                this.load.image('ButtonVolume_hover', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/hover/volume.png');
                                this.load.image('ButtonVolume_lock', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/lock/volume.png');
                                this.load.image('ButtonVolume', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/normal/volume.png');
                                this.load.image('ButtonVolume_click', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/click/volume.png');

                                // Round button Assets
                                this.load.image('ButtonRound_hover', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/hover/round.png');
                                this.load.image('ButtonRound_lock', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/lock/round.png');
                                this.load.image('ButtonRound', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/normal/round.png');
                                this.load.image('ButtonRound_click', 'craftpix-103151-island-game-gui/Island-game-gui/png/buttons/click/round.png');

                                //Bird Assets
                                this.load.image('Bird_0', 'PNG/Frame-1.png');
                                this.load.image('Bird_1', 'PNG/frame-2.png');
                                this.load.image('Bird_2', 'PNG/frame-3.png');
                                this.load.image('Bird_3', 'PNG/frame-4.png');

                                //Score Assets
                                this.load.image('Score','craftpix-103151-island-game-gui/Island-game-gui/png/images/3 stars.png');
                                this.load.image('Score2','craftpix-103151-island-game-gui/Island-game-gui/png/images/2 stars.png');
                                this.load.image('Score1','craftpix-103151-island-game-gui/Island-game-gui/png/images/1 stars.png');
                                this.load.image('Score0','craftpix-103151-island-game-gui/Island-game-gui/png/images/0 stars.png');

                                // scrollbar
                                this.load.image('ScrollBar','craftpix-103151-island-game-gui/Island-game-gui/png/images/horisontal skrolling map.png');
                                
                                // Banana assets

                                this.load.image('Cone', 'craftpix-871511-free-jumping-up-game-items/PNG/Props/Prop_3.png');
                                this.load.image('Snowball', 'craftpix-871511-free-jumping-up-game-items/PNG/Props/Prop_5.png');
                                this.load.image('Coconut', 'craftpix-871511-free-jumping-up-game-items/PNG/Props/Prop_1.png');

                                this.load.image('Jump', 'craftpix-871511-free-jumping-up-game-items/PNG/Bonus_Items/Jump_Bonus_02.png');
                                this.load.image('Jump2', 'craftpix-871511-free-jumping-up-game-items/PNG/Bonus_Items/Jump_Bonus_03.png');
                                this.load.image('Jump3', 'craftpix-871511-free-jumping-up-game-items/PNG/Bonus_Items/Jump_Bonus_01.png');



                                // Pad
                                this.load.image('Pad', 'craftpix-871511-free-jumping-up-game-items/PNG/Pads/Pad_02_1.png');
                                this.load.image('Sharp_Pad', 'craftpix-871511-free-jumping-up-game-items/PNG/Pads/Pad_02_2.png');
                                this.load.image('SnowPad', 'craftpix-871511-free-jumping-up-game-items/PNG/Pads/Pad_03_1.png');
                                this.load.image('Sharp_SnowPad', 'craftpix-871511-free-jumping-up-game-items/PNG/Pads/Pad_03_2.png');
                                this.load.image('RockyPad', 'craftpix-871511-free-jumping-up-game-items/PNG/Pads/Pad_01_1.png');
                                this.load.image('Sharp_RockyPad', 'craftpix-871511-free-jumping-up-game-items/PNG/Pads/Pad_01_2.png');

                                //Falling Down assets
                                this.load.image('Falling_Down', 'Jumping_boy_sprites_v102/Transparent PNG/Jump/Jump-fall.png');

                                //Jump Up assets
                                this.load.image('Jump_Up', 'Jumping_boy_sprites_v102/Transparent PNG/Jump/Jump-up.png');

                                //Idle assets
                                this.load.image('Idle_000', 'Jumping_boy_sprites_v102/Transparent PNG/Idle/frame-1.png');
                                this.load.image('Idle_001', 'Jumping_boy_sprites_v102/Transparent PNG/Idle/frame-2.png');

                                //Walking Assets
                                this.load.image('Walk_001', 'Jumping_boy_sprites_v102/Transparent PNG/running/frame-1.png');
                                this.load.image('Walk_002', 'Jumping_boy_sprites_v102/Transparent PNG/running/frame-2.png');
                                this.load.image('Walk_003', 'Jumping_boy_sprites_v102/Transparent PNG/running/frame-3.png');
                                this.load.image('Walk_004', 'Jumping_boy_sprites_v102/Transparent PNG/running/frame-4.png');
                                this.load.image('Walk_005', 'Jumping_boy_sprites_v102/Transparent PNG/running/frame-5.png');
                                this.load.image('Walk_006', 'Jumping_boy_sprites_v102/Transparent PNG/running/frame-6.png');

                                // Background assets
                                this.load.image('Background', 'craftpix-809414-cartoon-vertical-game-backgrounds/png/1.png');
                                this.load.image('Background2', 'craftpix-809414-cartoon-vertical-game-backgrounds/png/2.png');
                                this.load.image('Background3', 'craftpix-809414-cartoon-vertical-game-backgrounds/png/3.png');

                                // Level Select Image
                                this.load.image('LevelSelect', 'craftpix-103151-island-game-gui/Island-game-gui/png/frames/level select.png')
                                this.load.image('LevelSelectHeadlines', 'craftpix-103151-island-game-gui/Island-game-gui/png/headlines/level select.png')


                            }

                            DisplayLoadingMessege(){
                                loadingText = this.add.text(180, 300, '0%', { fontSize: '18px', align:'center', fill: '#fff' });
                                this.load.on('progress', function (value) {
                                    loadingText.setText(parseInt(value*100)+'%');
                                    loadingText.setOrigin(0.5);
                                });
                            }

                            create(){
                                cursors = this.input.keyboard.createCursorKeys();
                                //  A simple background for our game
                                var background = this.add.image(180, 300, 'Background').setScale(0.35);
                                var Logo = this.add.image(180, 275, 'Logo').setScale(0.5);
                                this.createStartButton(180,350);
                                background.setScrollFactor(0);
                                this.scale.pageAlignHorizontally = true;
                            }
                        };

                        class Score extends Menu{
                            constructor(){
                                super({ key:'Score', active:false});
                            }

                            create(){
                                cursors = this.input.keyboard.createCursorKeys();
                                //  A simple background for our 
                                var background = this.add.image(180, 300, 'Background').setScale(0.35);
                                var Logo = this.add.image(180, 175, 'Logo').setScale(0.5);
                                var level_select = this.add.image(180, 325, 'LevelSelect').setScale(0.075);
                                var level_select_headlines = this.add.image(180, 235, 'LevelSelectHeadlines').setScale(0.05);
                                this.createLevelButton(1, 100, 300,0.075);
                                this.createLevelButton(2, 175, 300,0.075);    
                                this.createLevelButton(3, 250, 300,0.075);    
                                score = 0;
                                background.setScrollFactor(0);
                                this.scale.pageAlignHorizontally = true;
                            };

                            createLevelButton(level, x,y,scale){
                                var Button = this.add.image(x, y, 'ButtonRound').setScale(scale);
                                var self = this;
                                var levelText = this.add.bitmapText(x-10, y-10, 'myfont',level ,240).setScale(scale);

                                Button
                                .setInteractive({useHandCursor: true})
                                .on('pointerover', () => {Button.setTexture('ButtonRound_hover').setScale(scale);})
                                .on('pointerout', () => {Button.setTexture('ButtonRound').setScale(scale)})
                                .on('pointerdown', () => { Button.setTexture('ButtonRound_click').setScale(scale)})
                                .on('pointerup', () => {
                                    this.scene.bringToTop('Level'+level);
                                    this.scene.start('Level'+level);
                                });
                                this.tweens
                                .add({
                                    targets: [Button,levelText],
                                    scale:0.08,
                                    duration: 500,
                                    ease: 'Power2',
                                    repeat: -1,
                                    yoyo:true
                                }, this);
                                this.createStars(level,x,y,0.1);
                            };

                            createStars(level,x,y,scale){
                                // Maximum score of 50 is allowed
                                scoreText = this.add.bitmapText(x-10, y+35, 'myfont',scores[level] ,150).setScale(scale);
                                scoreText.setOrigin(0.5);
                                if (scores[level] < 150) this.add.image(x,y+70,'Score0').setScale(scale);
                                else if (scores[level] < 225) this.add.image(x,y+70,'Score1').setScale(scale);
                                else if (scores[level] < 300) this.add.image(x,y+70, 'Score2').setScale(scale);
                                else this.add.image(x,y+70, 'Score').setScale(scale);
                            }
                        };

                        class Level extends Phaser.Scene{

                            updateCompleteBar(){
                                mini_tarzen.setX(-boy.y/20000*120 + 135);
                            };

                            createMovingPads(p){
                                // Some pads to collect, 10 in total
                                moving_pads = this.physics.add.group({
                                allowGravity:false,
                                immovable:true,
                                enableBody:true
                                });

                                for (var i = 1; i < path.length; i=i+2)
                                {
                                    var pad = moving_pads.create(path[i].x,path[i].y+50, p).setScale(0.1);
                                    pad.body.checkCollision.down = false;
                                    pad.body.checkCollision.left = false;
                                    pad.body.checkCollision.right = false;
                                    pad.body.friction.x = 1;
                                    if (((i-1)/2)%2 == 0) pad.setVelocityX(50);
                                    else pad.setVelocityX(-50);
                                }
                            };

                            createStaticPads(pad, sharp_pad){
                                // Some pads to collect, 10 in total
                                pads = this.physics.add.group({
                                allowGravity:false,
                                immovable:true,
                                enableBody:true
                                });

                                for (var i = 0; i < path.length; i=i+2)
                                {
                                    var padl = pads.create(path[i].x,path[i].y+50, pad).setScale(0.1);
                                    padl.body.checkCollision.down = false;
                                    padl.body.checkCollision.left = false;
                                    padl.body.checkCollision.right = false;
                                    padl.body.friction.x = 1;
                                    
                                    if(path[i].x < 150){
                                        var padr = pads.create(Phaser.Math.Between(path[i].x + 150, 250),path[i].y+50, sharp_pad).setScale(0.1);
                                        padr.body.checkCollision.down = false;
                                        padr.body.checkCollision.left = false;
                                        padr.body.checkCollision.right = false;
                                        padr.body.friction.x = 0.5;
                                    }
                                    else{
                                        var padr = pads.create(Phaser.Math.Between(50, path[i].x-150),path[i].y+50, sharp_pad).setScale(0.1);
                                        padr.body.checkCollision.down = false;
                                        padr.body.checkCollision.left = false;
                                        padr.body.checkCollision.right = false;
                                        padr.body.friction.x = 0.5;         
                                    }
                                }
                            };

                            createCamera(){
                                this.cameras.main.setBounds(0,-20000, 300, 20600);
                                this.cameras.main.startFollow(boy,1,1, 100,100);
                            };

                            startClock(){
                                this.clearClock();
                                var self = this;
                                clock = setInterval(function(){
                                    time++;
                                }, 1000);
                            };

                            clearClock(){
                                clearInterval(clock);
                            };

                            createTotalScore(level){
                                score++;
                                scoreText.setText(score);
                                var final_score = score*10-time;
                                if(final_score < 0) final_score = 0;
                                if (final_score > scores[level]) scores[level] = final_score;
                            };

                            createTime(){
                                time_sprite = this.add.sprite(285, 25, 'Time');
                                time_sprite.setScale(0.15,0.15)﻿;
                                time_sprite.setScrollFactor(0);
                                time_text = this.add.text(305, 18, time, {
                                    fontSize:18, 
                                    fill : 'black', 
                                    fontWeight:'bold'
                                });
                                time_text.setScrollFactor(0);
                                time = 0;
                                this.startClock();
                            };

                            updateTime(){
                                time_text.text = time;
                            };

                            createCompleteBar(){
                                var scrollbar = this.add.image(190, 25, 'ScrollBar').setScale(0.15);
                                scrollbar.setScrollFactor(0);
                                mini_tarzen = this.add.sprite(130, 25, 'Walk_001');
                                mini_tarzen.setScrollFactor(0);
                                mini_tarzen.setScale(0.050,0.050)﻿;
                            };

                            createVolume(x,y,scale){
                                var Button = this.add.image(x, y, 'ButtonVolume').setScale(scale);
                                var self = this;
                                Button.setTexture('ButtonVolume_lock').setScale(scale);
                                Button
                                .setInteractive({useHandCursor: true})
                                .on('pointerover', () => {Button.setTexture('ButtonVolume_hover').setScale(scale);})
                                .on('pointerout', () => {
                                    if (volume == 1){ 
                                        Button.setTexture('ButtonVolume').setScale(scale);
                                    }
                                    else if (volume == 0){
                                        Button.setTexture('ButtonVolume_lock').setScale(scale);
                                    }
                                })
                                .on('pointerdown', () => { 
                                Button.setTexture('ButtonVolume_click').setScale(scale)
                                    if (volume == 1){ 
                                        volume = 0;
                                    }
                                    else if (volume == 0){ 
                                        volume = 1;
                                    }
                                });
                                Button.setScrollFactor(0);
                            };

                            createTarzen(){// Create Tarzan
                                this.anims.create({
                                    key: 'falling_down',
                                    frames: [
                                        { key: 'Falling_Down', frame: null },
                                    ],
                                    frameRate: 50
                                });

                                this.anims.create({
                                    key: 'jump_up',
                                    frames: [
                                        { key: 'Jump_Up', frame: null }
                                    ],
                                    frameRate: 50
                                });

                                this.anims.create({
                                    key: 'walk',
                                    frames: [
                                        { key: 'Walk_001', frame: null },
                                        { key: 'Walk_002', frame: null },
                                        { key: 'Walk_003', frame: null },
                                        { key: 'Walk_004', frame: null },
                                        { key: 'Walk_005', frame: null },
                                        { key: 'Walk_006', frame: null }
                                    ],
                                    frameRate: 10,
                                });

                                this.anims.create({
                                    key: 'idle',
                                    frames: [
                                        { key: 'Idle_000', frame: null },
                                        { key: 'Idle_001', frame: null }
                                    ],
                                    frameRate: 5
                                });

                                // Declare tarzan
                                boy = this.physics.add.sprite(180, 450, 'Walk_001');
                                boy.setScale(0.075,0.075)﻿;
                                boy.setVelocityY(-750);
                                boy.body.friction.x = 1;
                            };

                            createBirds(){
                                this.anims.create({
                                    key: 'bird_flying',
                                    frames: [
                                        { key: 'Bird_0', frame: null },
                                        { key: 'Bird_1', frame: null },
                                        { key: 'Bird_2', frame: null },
                                        { key: 'Bird_3', frame: null }
                                    ],
                                    frameRate: 10,
                                    repeat: -1
                                });

                                // Some pads to collect, 10 in total
                                birds = this.physics.add.group({
                                    allowGravity:false,
                                    immovable:true,
                                    enableBody:true
                                });


                                for (var i = 0; i < path.length; i=i+1)
                                {
                                if((i+2)%20 == 0) {
                                var bird = birds.create(path[i].x,path[i].y+100, 'Bird_0').setScale(0.05);
                                bird.anims.play('bird_flying', true);
                                bird.setVelocityX(50);
                                    }
                                }
                            };

                            createPath(){
                                for (var i = 0; i < 200; i=i+1)
                                {
                                    path[i]= {x: Phaser.Math.Between(50, 250), y:(475-i*100)};
                                }
                            };

                            createObjects(obj){
                                //  Some objects to collect, 10 in total
                                objects = this.physics.add.group({allowGravity:false,immovable:true,enableBody:true});
                                for (var i = 0; i < path.length; i=i+1)
                                {
                                if(i%4 ==0){ 
                                        var object = objects.create(path[i].x,path[i].y, obj).setScale(0.05);
                                    }
                                    this.tweens
                                    .add({
                                        targets: object,
                                        scale:0.1,
                                        duration: 1000,
                                        ease: 'Power2',
                                        repeat:-1,
                                        yoyo:true
                                    }, this);
                                }
                            };

                            gameOver(){
                                if(volume != 0) game_over.play();
                                this.scene.bringToTop('Score');
                                this.scene.start('Score');
                            };

                            createBg(bg){
                                //  A simple background for our game
                                background = this.add.image(180, 300, bg).setScale(0.70);
                                background.setScrollFactor(0);
                            };

                            updateBackground(){
                                background.setPosition((360-((180*boy.x)/180)), (50-((300*boy.y)/10000)));
                            };

                            jumpOnBird(tarzan,bird){
                                if ((boy.body.touching.down) && (bird.body.touching.up)){
                                    if (volume == 1) jump.play();
                                    this.tweens
                                    .add({
                                        targets: bird,
                                        alpha: 0,
                                        duration: 500,
                                        ease: 'Power2',
                                        onComplete:function(){
                                            bird.disableBody(true, true);
                                        }
                                    }, this);
                                    bird.setAccelerationY(500);
                                    boy.setVelocityY(-1000);
                                }
                               else{
                                    this.gameOver();
                               }
                            };

                            touchPad(tarzen,pad){
                                if((boy.body.touching.down) && (pad.body.touching.up)) current_pad = pad;
                            };

                            jumpPad(tarzan,pad){
                                if ((boy.body.touching.down) && (pad.body.touching.up)){
                                    this.tweens
                                    .add({
                                        targets: pad,
                                        alpha: 0,
                                        duration: 5000,
                                        ease: 'Power2',
                                        onComplete:function(){
                                            pad.disableBody(true, true);
                                        }
                                    }, this);
                                    pad.setAccelerationY(500);
                                    boy.setVelocityY(-500);
                                }
                            };

                            powerOverlap(tarzan, Bonus){
                                if(volume == 1) jump.play();
                                Bonus.disableBody(true, true);
                                boy.setVelocityY(-1000);
                            };

                            createSc(name){
                                //  The score
                                var banana = this.add.image(25, 25, name).setScale(0.1);
                                banana.setScrollFactor(0);
                                scoreText = this.add.bitmapText(50, 10, 'myfont', score,24 ); 
                                scoreText.setScrollFactor(0);
                            };

                            flipLeft(object,speed){
                                object.setVelocityX(-1*speed);
                                object.setFlipX(true);
                            };

                            flipRight(object,speed){  
                                object.setVelocityX(speed);
                                object.setFlipX(false);
                            };

                            updateBirds(){
                                birds.children.each(function(bird) {  
                                    if (bird.x > 330) this.flipLeft(bird, 50);
                                    else if (bird.x < 30) this.flipRight(bird,50);
                                }, this);
                            };

                            updateMovingPads(){
                                moving_pads.children.each(function(moving_pad) {  
                                    if (moving_pad.x > 300) this.flipLeft(moving_pad, 50);
                                    else if (moving_pad.x < 50) this.flipRight(moving_pad,50);
                                }, this);
                            };

                            createB(j){
                                //  Some bonus to collect, 10 in total
                                bonus = this.physics.add.group({
                                    allowGravity:false,
                                    immovable:true,
                                    enableBody:true
                                });

                                for (var i = 0; i < path.length; i=i+1){
                                    if((i+6)%20 == 0) var jump = bonus.create(path[i].x,path[i].y, j).setScale(0.1);
                                }
                            };
                        }

                        class Level1 extends Level{
                            constructor(){
                                super({ key:'Level1', active:false});
                            };

                            create(){
                                //  Input Events
                                cursors = this.input.keyboard.createCursorKeys();
                                coin = this.sound.add('Coin',{loop:false});
                                jump = this.sound.add('Jump',{loop:false});
                                game_over = this.sound.add('GameOver',{loop:false});

                                this.createPath();
                                this.createBackground();
                                this.createStaticGrassyPads();
                                this.createMovingGrassyPads();
                                this.createBananas();
                                this.createBirds();
                                this.createBonuses();
                                this.createTarzen();
                                this.createScore();
                                this.createCamera();
                                this.createVolume(320,570,0.05);
                                this.createCompleteBar();
                                this.createTime();

                                // Declare Collision and OVerlaps
                                this.physics.add.collider(boy, pads, this.touchPad.bind(this));
                                this.physics.add.collider(boy, moving_pads, this.touchPad.bind(this));
                                this.physics.add.overlap(boy, objects, this.collideBanana.bind(this));
                                this.physics.add.overlap(boy, bonus, this.powerOverlap);
                                this.physics.add.collider(boy, birds, this.jumpOnBird.bind(this));

                                this.scale.pageAlignHorizontally = true;
                            };

                            update(){
                                this.updateTarzen();
                                this.updateBirds();
                                this.updateMovingPads();
                                this.updateBackground();
                                this.updateCompleteBar();
                                this.updateTime();
                            };

                            createStaticGrassyPads(){
                                this.createStaticPads('Pad','Sharp_Pad');
                            };

                            createMovingGrassyPads(){
                                this.createMovingPads('Pad');
                            };

                            createBananas(){
                                this.createObjects('Cone');
                            };

                            createScore(){
                                //  The score
                                this.createSc('Cone');
                            };

                            createBonuses(){
                                this.createB('Jump');
                            };

                            createBackground(){
                                this.createBg('Background');
                            };

                            updateTarzen(){
                                if ((cursors.up.isDown) && (boy.body.touching.down)) this.jumpPad(boy,current_pad);
                                if ((boy.body.touching.down) && (current_pad.body.friction.x == 0.5)) this.gameOver();
                                if(boy.body.velocity.y > 750) this.gameOver();
                                if (cursors.right.isDown){ 
                                    this.flipRight(boy,100);
                                    if (boy.body.touching.down){
                                        boy.anims.play('walk', true);
                                    }
                                }
                                else if (cursors.left.isDown) {
                                    this.flipLeft(boy,100);
                                    if (boy.body.touching.down){
                                        boy.anims.play('walk', true);
                                    }
                                }
                                else boy.setVelocityX(0);
                                if (boy.x > 330) this.flipLeft(boy,200);
                                else if (boy.x < 30) this.flipRight(boy,200);
                                if (boy.body.velocity.y < 0) boy.anims.play('falling_down', true);
                                if (boy.body.velocity.y > 0) boy.anims.play('jump_up', true);
                                if ((boy.body.velocity.y == 0) && (boy.body.velocity.x == 0))boy.anims.play('idle', true);
                            };

                            collideBanana(boy, banana){
                                var self = this;
                                if(!banana.hasOverlapped){
                                    banana.hasOverlapped = true;
                                    self.tweens
                                    .add({
                                        targets: banana,
                                        alpha: 0,
                                        scale:0,
                                        duration: 250,
                                        ease: 'Power2',
                                        onComplete:function(){
                                            if (volume == 1) coin.play();
                                            // Declare tarzan
                                            var point = self.physics.add.sprite(boy.x, boy.y-100, 'Point');
                                            point.setScale(0.25,0.25)﻿;
                                            banana.disableBody(true, true);
                                            point.setVelocityY(-350);
                                            self.tweens
                                            .add({
                                                targets: point,
                                                alpha: 0,
                                                scale:1,
                                                duration:1000,
                                                ease:'Power2',
                                                onComplete:function(){
                                                    point.disableBody(true,true);
                                                }
                                            }, self);
                                            self.createTotalScore(1);
                                        }
                                    }, self);
                                };
                            };
                        };

                        class Level2 extends Level{
                            constructor(){
                                super({ key:'Level2', active:false});
                            };

                            create(){
                                //  Input Events
                                cursors = this.input.keyboard.createCursorKeys();

                                coin = this.sound.add('Coin',{loop:false});
                                jump = this.sound.add('Jump',{loop:false});
                                game_over = this.sound.add('GameOver',{loop:false});

                                this.createPath();
                                this.createBackground();
                                this.createStaticSnowPads();
                                this.createMovingSnowPads();
                                this.createSnowballs();
                                this.createBirds();
                                this.createBonuses();
                                this.createTarzen();
                                this.createScore();
                                this.createCamera();
                                this.createVolume(320,570,0.05);
                                this.createCompleteBar();
                                this.createTime();

                                // Declare Collision and OVerlaps
                                this.physics.add.collider(boy, pads, this.touchPad.bind(this));
                                this.physics.add.collider(boy, moving_pads, this.touchPad.bind(this));
                                this.physics.add.overlap(boy, objects, this.collideBanana.bind(this));
                                this.physics.add.overlap(boy, bonus, this.powerOverlap);
                                this.physics.add.collider(boy, birds, this.jumpOnBird.bind(this));

                                this.scale.pageAlignHorizontally = true;
                            };

                            update(){
                                this.updateTarzen();
                                this.updateBirds();
                                this.updateMovingPads();
                                this.updateBackground();
                                this.updateCompleteBar();
                                this.updateTime();
                            };

                            createStaticSnowPads(){
                                this.createStaticPads('SnowPad','Sharp_SnowPad');
                            };

                            createMovingSnowPads(){
                                this.createMovingPads('SnowPad');
                            };
                            
                            createSnowballs(){
                                this.createObjects('Snowball');
                            };

                            createScore(){
                                this.createSc('Snowball');
                            };

                            createBonuses(){
                                this.createB('Jump2');
                            };

                            createBackground(){
                                this.createBg('Background2');
                            };

                            updateTarzen(){
                                if ((cursors.up.isDown) && (boy.body.touching.down)) this.jumpPad(boy,current_pad);
                                
                                if ((boy.body.touching.down) && (current_pad.body.friction.x == 0.5)){
                                    this.gameOver();
                                }

                                if (boy.body.touching.down){
                                    if (current_pad.body.velocity.x > 0) boy.setAccelerationX(-2500);
                                    else boy.setAccelerationX(2500);
                                }
                                else boy.setAccelerationX(0);

                                if(boy.body.velocity.y > 750){
                                    this.gameOver();
                                }

                                if (cursors.right.isDown){ 
                                    this.flipRight(boy,100);
                                    if (boy.body.touching.down){
                                        boy.anims.play('walk', true);
                                    }
                                }

                                else if (cursors.left.isDown) {
                                    this.flipLeft(boy,100);
                                    if (boy.body.touching.down){
                                        boy.anims.play('walk', true);
                                    }
                                }

                                else boy.setVelocityX(0);

                                if (boy.x > 330) this.flipLeft(boy,200);
                                else if (boy.x < 30) this.flipRight(boy,200);

                                if (boy.body.velocity.y < 0) boy.anims.play('falling_down', true);
                                if (boy.body.velocity.y > 0) boy.anims.play('jump_up', true);
                                if ((boy.body.velocity.y == 0) && (boy.body.velocity.x == 0))boy.anims.play('idle', true);
                            };

                            collideBanana(boy, banana){
                                var self = this;
                                if(!banana.hasOverlapped){
                                    banana.hasOverlapped = true;
                                    self.tweens
                                    .add({
                                        targets: banana,
                                        alpha: 0,
                                        scale:0,
                                        duration: 250,
                                        ease: 'Power2',
                                        onComplete:function(){
                                            if (volume == 1) coin.play();
                                            // Declare tarzan
                                            var point = self.physics.add.sprite(boy.x, boy.y-100, 'Point');
                                            point.setScale(0.25,0.25)﻿;
                                            banana.disableBody(true, true);
                                            point.setVelocityY(-350);
                                            self.tweens
                                            .add({
                                                targets: point,
                                                alpha: 0,
                                                scale:1,
                                                duration:1000,
                                                ease:'Power2',
                                                onComplete:function(){
                                                    point.disableBody(true,true);
                                                }
                                            }, self);
                                            self.createTotalScore(2);
                                        }
                                    }, self);
                                }
                            };
                        }


                        class Level3 extends Level{
                            constructor(){
                                super({ key:'Level3', active:false});
                            };

                            create(){
                                //  Input Events
                                cursors = this.input.keyboard.createCursorKeys();

                                coin = this.sound.add('Coin',{loop:false});
                                jump = this.sound.add('Jump',{loop:false});
                                game_over = this.sound.add('GameOver',{loop:false});

                                this.createPath();
                                this.createBackground();
                                this.createStaticSnowPads();
                                this.createMovingSnowPads();
                                this.createSnowballs();
                                this.createBirds();
                                this.createBonuses();
                                this.createTarzen();
                                this.createScore();
                                this.createCamera();
                                this.createVolume(320,570,0.05);
                                this.createCompleteBar();
                                this.createTime();

                                // Declare Collision and OVerlaps
                                this.physics.add.collider(boy, pads, this.touchPad.bind(this));
                                this.physics.add.collider(boy, moving_pads, this.touchPad.bind(this));
                                this.physics.add.overlap(boy, objects, this.collideBanana.bind(this));
                                this.physics.add.overlap(boy, bonus, this.powerOverlap);
                                this.physics.add.collider(boy, birds, this.jumpOnBird.bind(this));

                                this.scale.pageAlignHorizontally = true;
                            };

                            update(){
                                this.updateTarzen();
                                this.updateBirds();
                                this.updateMovingPads();
                                this.updateBackground();
                                this.updateCompleteBar();
                                this.updateTime();
                            };

                            createStaticSnowPads(){
                                this.createStaticPads('RockyPad','Sharp_RockyPad');
                            };

                            createMovingSnowPads(){
                                this.createMovingPads('RockyPad');
                            };
                            
                            createSnowballs(){
                                this.createObjects('Coconut');
                            };

                            createScore(){
                                this.createSc('Coconut');
                            };

                            createBonuses(){
                                this.createB('Jump3');
                            };

                            createBackground(){
                                this.createBg('Background3');
                            };

                            updateTarzen(){
                                if ((cursors.up.isDown) && (boy.body.touching.down)) this.jumpPad(boy,current_pad);
                                
                                if ((boy.body.touching.down) && (current_pad.body.friction.x == 0.5)) this.gameOver();

                                else boy.setAccelerationX(0);

                                if(boy.body.velocity.y > 750) this.gameOver();

                                if (cursors.right.isDown){ 
                                    this.flipRight(boy,100);
                                    if (boy.body.touching.down){
                                        boy.anims.play('walk', true);
                                    }
                                }

                                else if (cursors.left.isDown) {
                                    this.flipLeft(boy,100);
                                    if (boy.body.touching.down){
                                        boy.anims.play('walk', true);
                                    }
                                }

                                else boy.setVelocityX(0);

                                if (boy.x > 330) this.flipLeft(boy,200);
                                else if (boy.x < 30) this.flipRight(boy,200);

                                if (boy.body.velocity.y < 0) boy.anims.play('falling_down', true);
                                if (boy.body.velocity.y > 0) boy.anims.play('jump_up', true);
                                if ((boy.body.velocity.y == 0) && (boy.body.velocity.x == 0)) boy.anims.play('idle', true);
                            };

                            touchPad(tarzen,pad){
                                current_pad = pad;

                                if ((boy.body.touching.down) && (pad.body.touching.up)){
                                    this.tweens
                                    .add({
                                        targets: pad,
                                        alpha: 1,
                                        duration: 750,
                                        ease: 'Power2',
                                        onComplete: function(){
                                            pad.setAccelerationY(500);
                                    }}, this);
                                }
                            };

                            collideBanana(boy, object){
                            var self = this;
                                if(!object.hasOverlapped){
                                    object.hasOverlapped = true;
                                    self.tweens
                                    .add({
                                        targets: object,
                                        alpha: 0,
                                        scale:0,
                                        duration: 250,
                                        ease: 'Power2',
                                        onComplete:function(){
                                            if (volume == 1) coin.play();
                                            // Declare tarzan
                                            var point = self.physics.add.sprite(boy.x, boy.y-100, 'Point');
                                            point.setScale(0.25,0.25)﻿;
                                            object.disableBody(true, true);
                                            point.setVelocityY(-350);
                                            self.tweens
                                            .add({
                                                targets : point,
                                                alpha : 0,
                                                scale : 1,
                                                duration : 1000,
                                                ease : 'Power2',
                                                onComplete:function(){
                                                    point.disableBody(true,true);
                                                }
                                            }, self);
                                            self.createTotalScore(3);
                                        }
                                    }, self);
                                }
                            };
                        }

                        var config = {
                            type: Phaser.AUTO,
                            parent:"game-container",
                            width: 360,
                            height: 600,
                            physics: {
                                default: 'arcade',
                                arcade: {
                                    gravity: { y: 1000 },
                                    debug: false
                                }
                            },
                            scene: [Start, Level1, Level2, Level3, Score]
                        };

                        var game = new Phaser.Game(config);
                    </script> 
                </div>
                <p style="text-align:center" >Use right and left keys to jump the Boy on the static and movings pads. Collecting Items and Jumps, avoid bird and Jump on birds to get extra jump</p>
                <ul>
                    <li> Level 1: Grassy Theme</li>
                    <li> Level 2: Snowy Theme</li>
                    <li> Level 3: Lava Theme</li>
                </ul>
            </div>
        </div>
        <div class = "advertisement">        
            <h3>More Games</h3>
            <ul>
                <li class="game-link">
                    <div class="image">
                        <a href="/en/games/pool-party">
                            <img alt="Pool Party" src="https://d1bjj4kazoovdg.cloudfront.net/assets/games/pool-party/teaser.jpg?p=undefined">
                        </a>
                        <div class="exclusiveBanderole"></div>
                    </div>
                    <h5 class="title">
                        <a href="https://games.softgames.com/games/pool-party/gamesites/8938/">Pool Party</a>
                    </h5>
                </li>
                <li class="game-link">
                    <div class="image"><a href="/en/games/jewels-blitz-4">
                        <img alt="Jewels Blitz 4" src="https://d1bjj4kazoovdg.cloudfront.net/assets/games/jewels-blitz-4/teaser.jpg?p=undefined"></a>
                        <div class="exclusiveBanderole"></div>
                    </div>
                    <h5 class="title">
                        <a href="https://games.softgames.com/games/jewels-blitz-4/gamesites/8938/" >Jewels Blitz 4</a>
                    </h5>
                </li>
                <li class="game-link">
                    <div class="image">
                        <a href="/en/games/2048-lines">
                            <img alt="2048 Lines" src="https://d1bjj4kazoovdg.cloudfront.net/assets/games/2048-lines/teaser.jpg?p=undefined">
                        </a>
                        <div class="exclusiveBanderole"></div>
                    </div>
                    <h5 class="title">
                        <a href="https://games.softgames.com/games/2048-lines/gamesites/8938/" >2048 Lines</a>
                    </h5>
                </li>
                <li class="game-link">
                    <div class="image">
                        <a href="/en/games/hexagon">
                            <img alt="Hexagon" src="https://d1bjj4kazoovdg.cloudfront.net/assets/games/hexagon/teaser.jpg?p=undefined">
                        </a>
                        <div class="exclusiveBanderole"></div>
                    </div>
                    <h5 class="title">
                        <a href="https://games.softgames.com/games/hexagon/gamesites/8938/">Hexagon</a>
                    </h5>
                </li>
            </ul>
        </div>
        <div class="footer">
            <p>Assets by <a href="https://craftpix.net/">https://craftpix.net/</a> and <a href="https://opengameart.org/">https://opengameart.org/</a>
            </p>
            <p>Copyrights All Rights Reserved</p>
        </div>
    </div>
</body>
</html>      
